<ng-progress #progressBar color="red"></ng-progress>
<mat-card>
  <div>
    <mat-card-title color="primary">{{'TEmployeeModule.title'|translate}}</mat-card-title>
    <mat-divider></mat-divider>
    <br>
    <br>
    <div fxLayout.xl="row" fxLayout.lg="row" fxLayout.md="row" fxLayout.xs="column">
        <div fxFlex fxLayoutAlign="start center" >
            <button mat-raised-button color="primary" (click)="openDialog('create')" *ngIf="'CreateTEmployee'|userRoles">
                {{'button.createButton'|translate}}
            </button>
            <button color="warn" mat-raised-button [disabled]="selection.selected.length==0" (click)="removeData()" *ngIf="'LockTEmployee'|userRoles">
                {{'button.deleteButton'|translate}} </button>
        </div>
        <div fxFlex></div>
        <div fxFlex>
            <mat-form-field appearance="standard" ngClass.md="width100">
                <mat-label> {{'button.searchButton'|translate}}</mat-label>
                <input (keyup)="applyFilter($event)" matInput placeholder="{{'button.searchPlaceholder'|translate}}"
                    #inputSearch>
            </mat-form-field>
        </div>
    </div>
</div>

<div class="mat-elevation-z8 table-container" *ngIf="'ViewTEmployee'|userRoles">
  <div class="res-table-container">
      <table mat-table [dataSource]="dataSource" matSort>
          <!-- Checkbox Column -->
          <ng-container matColumnDef="select">
              <th mat-header-cell *matHeaderCellDef class="checkbox-col">
                  <mat-checkbox (change)="$event ? masterToggle() : null"
                      [checked]="selection.hasValue() && isAllSelected()"
                      [indeterminate]="selection.hasValue() && !isAllSelected()" [aria-label]="checkboxLabel()">
                  </mat-checkbox>
              </th>
              <td mat-cell *matCellDef="let row">
                  <mat-checkbox (click)="$event.stopPropagation()"
                      (change)="$event ? selection.toggle(row) : null" [checked]="selection.isSelected(row)"
                      [aria-label]="checkboxLabel(row)">
                  </mat-checkbox>
              </td>
          </ng-container>
          <!-- Position Column -->
          <ng-container matColumnDef="position">
              <th mat-header-cell *matHeaderCellDef>{{'button.positionCol'|translate}}</th>
              <td mat-cell *matCellDef="let element;index as i">{{(i+1)+(page*pageSize)}}</td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="emName">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'TEmployeeModule.employeNameCol'|translate}}
              </th>
              <td mat-cell *matCellDef="let element">{{element.emName}}</td>
          </ng-container>

          <!-- emCode Column -->
          <ng-container matColumnDef="emCode">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  {{'TEmployeeModule.employeCode'|translate}}
              </th>
              <td mat-cell *matCellDef="let element">{{element.emCode}}</td>
          </ng-container>

           <!-- emGender Column -->
           <ng-container matColumnDef="emGender">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'TEmployeeModule.employeeGenderCol'|translate}}
            </th>
            <td mat-cell *matCellDef="let element">{{element.emGender}}</td>
        </ng-container>

         <!-- emBirthday Column -->
         <ng-container matColumnDef="emBirthday">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'TEmployeeModule.employeeBirthCol'|translate}}
          </th>
          <td mat-cell *matCellDef="let element">{{element.emBirthdate}}</td>
        </ng-container>

       <!-- emIdentity Column -->
       <ng-container matColumnDef="emIdentity">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'TEmployeeModule.employeeIdentityCol'|translate}}
        </th>
        <td mat-cell *matCellDef="let element">{{element.emIdentityNumber}}</td>
      </ng-container>

      <!-- placeId Column -->
      <ng-container matColumnDef="placeId">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'TEmployeeModule.placeIdCode'|translate}}
        </th>
        <td mat-cell *matCellDef="let element">{{element.placeId}}</td>
      </ng-container>

      <!-- zoneName Column -->
      <ng-container matColumnDef="zoneName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'TEmployeeModule.aZoneNameCol'|translate}}
        </th>
        <td mat-cell *matCellDef="let element">{{element.zoneName}}</td>
      </ng-container>

      <!-- emType Column -->
      <ng-container matColumnDef="emType">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'TEmployeeModule.employeTypeCol'|translate}}
        </th>
        <td mat-cell *matCellDef="let element">{{element.emtype}}</td>
      </ng-container>

      <!-- descripstion Column -->
      <ng-container matColumnDef="descripstion">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'TEmployeeModule.descripstionCol'|translate}}
        </th>
        <td mat-cell *matCellDef="let element">{{element.description}}</td>
      </ng-container>

      <!-- emImage Column -->
      <ng-container matColumnDef="emImage">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'TEmployeeModule.descripstionCol'|translate}}
        </th>
        <td mat-cell *matCellDef="let element">{{element.description}}</td>
      </ng-container>

       <!-- descripstion Column -->
       <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'TEmployeeModule.employeeStatusCol'|translate}}
        </th>
        <td mat-cell *matCellDef="let element">
          <mat-checkbox [checked]="element.emStatus" [disableRipple]="true"
              (click)="$event.preventDefault()">
          </mat-checkbox>
      </td>
      </ng-container>

          <!-- Action Column -->
          <ng-container matColumnDef="action" stickyEnd>
              <th mat-header-cell *matHeaderCellDef class="action-col">{{'button.actionCol'|translate}}</th>
              <td mat-cell *matCellDef="let element">
                  <a href="javascript:void(0)" color="primary" matTooltip="{{'button.editButton'|translate}}" 
                  (click)="openDialog('edit',element)" *ngIf="'UpdateTEmployee'|userRoles">
                      <mat-icon>edit</mat-icon>
                  </a>
              </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns;sticky: true"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
  </div>
  <mat-paginator [pageSizeOptions]="pageSizeOptions" pageSize="pageSize" (page)="onChangePage($event)"
      [pageIndex]="page" [length]="totalRow" showFirstLastButtons [disabled]="false"
      aria-label="Select page of appRoles elements">
  </mat-paginator>
</div>
</mat-card>